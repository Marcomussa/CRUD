<%- include('./partials/head.ejs') %> 

<%- include('./partials/nav.ejs') %> 

<script defer src="../scripts/cart.js"></script>

<body>
        <div class="container background">
            <h4>Carrito de compras</h4>

            <div class="row" id="cards">
                <% for(let i = 0; i < products.length; i++){ %>
                    <div class="col-md-3 mb-2">
                        <div class="card">
                          <div class="card-body">
                            <h4> <%= products[i].name %>  </h4>
                            <p id="productPrice"><%= products[i].priceWithDiscount %> </p>
                            <button class="btn btn-dark btnComprar" data-id="<%= products[i].id %>">Comprar</button>
                          </div>
                        </div>
                    </div>
                <% } %> 
            </div>

            <!--! Testing Templates-->

            <!-- <div id="items" class="d-flex flex-wrap"></div> -->

            <template id="template-card">
                <div class="col-md-3 mb-2">
                  <div class="card">
                    <div class="card-body">
                      <h5>Titulo</h5>
                      <p id="productPrice">precio</p>
                      <button class="btn btn-dark">Comprar</button>
                    </div>
                  </div>
                </div>
            </template>

            <!--!-->
            <div class="cartTotalContenedor">
                <div class="row">
                    <div class="col-md-1 text-center">
                        <h4>#</h4>
                    </div>
                    <div class="col-md-3 text-center">
                        <h4>Item</h4>
                    </div>  
                    <div class="col-md-3 text-center">
                        <h4>Cantidad</h4>
                    </div>
                    <div class="col-md-2 text-center">
                        <h4>Accion</h4>
                    </div>
                    <div class="col-md-3 text-center">
                        <h4>Total</h4>
                    </div>
                </div>  
            </div>

            <div class="row" id="items"></div>

            <div id="footer">
                <p>Carrito Vacio - Comience a Comprar!</p>
            </div>

            <div class="row" id="cards"></div>

          </div>
      
          <template id="template-footer">
            <div class="row">
                <hr>
                <div class="col-md-1 text-center">  
                
                </div>
                <div class="col-md-3 text-center">
                    <p id="">Total Productos</p>
                </div>
                <div class="col-md-3 text-center">
                    <p id="mostrarCantidadProductos">Cantidad</p>
                </div>
                <div class="col-md-2 text-center">
                    <button class="btn btn-danger btn-sm" id="vaciar-carrito">
                        vaciar todo
                    </button>
                </div>
                <div class="col-md-3 text-center">
                    $ <span id="mostrarTotalProductos">Total</span>
                </div>
            </div>
          </template>
          
          <template id="template-carrito">
            <div class="col-md-1 text-center">  
                <p id="idCart">ID</p>
            </div>
            <div class="col-md-3 text-center">
                <p id="nameCart">Name</p>
            </div>
            <div class="col-md-3 text-center">
                <p id="cantidadCart">Cantidad</p>
            </div>
            <div class="col-md-2 text-center">
                <button class="btn btn-info btn-sm">
                      +
                  </button>
                  <button class="btn btn-danger btn-sm">
                      -
                  </button>
            </div>
            <div class="col-md-3 text-center">
                $ <span id="totalCart">500</span>
            </div>  
          </template>
    </div>
</body>

<%- include('./partials/footer.ejs') %> 
